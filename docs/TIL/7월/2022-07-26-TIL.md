---
layout: post
title:  "2022-07-26 TIL"
date:   2022-07-26 14:29:06 +0900
categories: TIL
parent : 2022-07
---

<span style="color:green">HttpEntity</span>
==========================================

Http 프로토콜을 이용하는 통신의 header와 body 관련 정보를 객체로 저장 하는 클래스

이것을 상속받은 클래스가 RequestEntity와 ResponseEntity임

ResponseBody는  파라미터로 객체를받아 header를 변경

ResponseEntity는 클래스 객체를 생성후 객체에서 header값 변경

```java
public class HttpEntity<T> {
    public static final HttpEntity<?> EMPTY = new HttpEntity();
    private final HttpHeaders headers;
    private final T body;
    ...
}
```
```java
public class RequestEntity<T> extends HttpEntity<T>

public class ResponseEntity<T> extends HttpEntity<T>
```

<span style="color:green">Map</span>
====================================

HashMap
-------

키:밸류 한쌍으로 데이터저장. 

키 중복 허용x

put으로 데이터를 넣을때 key의 순서가 지켜지지 않는다.
```java
HashMap<Integer,String> map = new HashMap<>();
map.put(1,"치킨");
map.put(2,"피자");
map.put(3,"햄버거");

map.remove(1); //key값 1 제거
map.clear();  //모든값제거
```

TreeMap
------
데이터가 들어올때마다 Key값을 기준으로 자동정렬됨.

타입이 숫자일 경우 값으로, 문자열일 경우 유니코드로 정렬.

사용법 자체는 HashMap과 똑같다.

LinkedHashMap
------------
put으로 데이터를 넣을때 key 의 순서가 지켜지지않는 HashMap의 단점을 보완한 Map이다.

사용법은 HashMap과 똑같다.

MultiValueMap
-------------
키의 중복을 허용한다.

MultiValueMap은  키를 가져올때 리스트형태로 반환하기때문에 중복되는 키의 밸류들을 저장해준다.

보통의 Map의 경우  키를 가져오면 밸류의 타입으로 반환하지만, MultiValueMap은 다른형태이다.

<span style="color:green">MySql > WIF문</span>
=============================================

IF(조건, '참', '거짓')

Ex)WHERE절 IF문
```sql
SELECT * FROM PEOPLE WHERE IF(GENDER=0,'MAN','WOMAN')

```

<span style="color:green">싱글톤 패턴</span>
=============================================

디자인 패턴의 종류중 하나임.

정의
---

객체의 인스턴스가 딱 1개만 생성되는 패턴


장점
---
- new로 인스턴스를 사용할때 고정된 메모리영역을 할당하기때문에 메모리 낭비를 방지할 수 있다.
- 싱글톤으로 만들어진 인스턴스는 전역이기때문에 다른 클래스의 인스턴스들이 데이터를 공유하기 쉽다.
- 인스턴스가 절대적으로 한개만 존재하는것을 보증하고싶을때 사용한다.
- 처음 실행한 이후부터는 객체 로딩 시간이 줄어들어 성능향상이 된다.


단점
---
- 전역변수를 사용하지않고 객체를 하나만 생성해서 어디에서든지 참조할수있도록하는 패턴
- 싱글톤 인스턴스가 너무 많은 일을 하거나 많은 데이터를 공유시킬 경우 다른 클래스의 인스턴스들 간에 결합도가 높아져 "개방-폐쇄 원칙" 을 위배하게 된다. (객체 지향 설계 원칙에 어긋남)
- 따라서 수정이 어려워지고 테스트하기 어려워진다.
- 또한 멀티쓰레드환경에서 동기화처리를 안하면 인스턴스가 두개가 생성된다든지 하는 경우가 발생할 수 있음.
